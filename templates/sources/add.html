{% extends "base.html" %}
{% load staticfiles %}

{% block title %}Add Source{% endblock %}

{% block mainbar %}

<h1>Add source</h1>

<div id="source-edit"></div>

<h4>Preview</h4>
<div id="source-preview"></div>

<h4>Search Results</h4>
<div id="source-search"></div>

{% endblock %}

{% block bodybottom %}

<script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.4/underscore-min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.0.0/backbone-min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.0.0-rc.3/handlebars.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.3.1/jquery.cookie.min.js"></script>
<script src="{% static 'js/teoremer.js' %}"></script>

<script type="text/javascript">

(function() {

  teoremer.setupCsrf();

  var source = new teoremer.SourceItem();

  new teoremer.SourceEditView({
    el: $('#source-edit'),
    model: source
  });

  new teoremer.SourceRenderView({
    el: $('#source-preview'),
    model: source
  });

  new teoremer.LiveSourceSearchView({
    el: $('#source-search'),
    model: source
  });

})();

</script>

{% endblock %}
